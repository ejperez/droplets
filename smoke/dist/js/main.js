"use strict";var _get=function e(t,n,i){if(t===null)t=Function.prototype;var r=Object.getOwnPropertyDescriptor(t,n);if(r===undefined){var a=Object.getPrototypeOf(t);if(a===null){return undefined}else{return e(a,n,i)}}else if("value"in r){return r.value}else{var o=r.get;if(o===undefined){return undefined}return o.call(i)}};var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();function _possibleConstructorReturn(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function _inherits(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var Circle=function(){function e(t,n,i){_classCallCheck(this,e);this.colorRGB="255,255,255";this.currentRadius=0;this.maxRadius=i;this.xPosition=t;this.yPosition=n;this.currentAlpha=0;this.maxAlpha=1;this.incrementAmount=5;this.isActive=true}_createClass(e,[{key:"update",value:function e(){var t=this.maxRadius*1/2;if(this.currentRadius>=t){var n=(t-(this.currentRadius-t))/t;this.currentAlpha=this.maxAlpha*n;this.currentRadius+=this.incrementAmount/2}else{var n=this.currentRadius/t;this.currentAlpha=this.maxAlpha*n;this.currentRadius+=this.incrementAmount}if(this.currentRadius>=this.maxRadius){this.isActive=false}}},{key:"draw",value:function e(t){if(!this.isActive){return}this.update();t.beginPath();t.arc(this.xPosition,this.yPosition,this.currentRadius,0,Math.PI*2,false);t.closePath();t.fillStyle="rgba("+this.colorRGB+","+this.currentAlpha+")";t.fill()}}]);return e}();var MovingCircle=function(e){_inherits(t,e);function t(e,n,i,r,a){_classCallCheck(this,t);var o=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));o.positionChangeAmount=1;o.slope=(r-o.yPosition)/(i-o.xPosition);o.direction=Math.round(Math.random());return o}_createClass(t,[{key:"update",value:function e(){_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this);var n;if(this.direction===0){n=this.xPosition-this.positionChangeAmount}else{n=this.xPosition+this.positionChangeAmount}var i=this.slope*(n-this.xPosition)+this.yPosition;this.xPosition=n;this.yPosition=i}}]);return t}(Circle);"use strict";function generateRandomInt(e,t){return Math.floor(Math.random()*(t-e))+e}function getBrowserWidth(){if(self.innerWidth){return self.innerWidth}if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth}if(document.body){return document.body.clientWidth}}function getBrowserHeight(){if(self.innerHeight){return self.innerHeight}if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight}if(document.body){return document.body.clientHeight}}function getMousePos(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}function throttle(e,t,n){var i,r,a;var o=null;var s=0;if(!n)n={};var u=function t(){s=n.leading===false?0:Date.now();o=null;a=e.apply(i,r);if(!o)i=r=null};return function(){var c=Date.now();if(!s&&n.leading===false)s=c;var l=t-(c-s);i=this;r=arguments;if(l<=0||l>t){if(o){clearTimeout(o);o=null}s=c;a=e.apply(i,r);if(!o)i=r=null}else if(!o&&n.trailing!==false){o=setTimeout(u,l)}return a}}"use strict";var mainCanvas=document.querySelector("#myCanvas");var mainContext=mainCanvas.getContext("2d");var canvasWidth=mainCanvas.width;var canvasHeight=mainCanvas.height;var requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var circles=[];var circlesForCleanup=[];var createCircle=function e(t){var n=getMousePos(mainCanvas,t);var i="Mouse position: "+n.x+","+n.y;var r=Math.round(Math.random());if(r===0){var a=new Circle(n.x,n.y,generateRandomInt(50,200))}else{var a=new MovingCircle(n.x,n.y,generateRandomInt(n.x-10,n.x+10),generateRandomInt(n.y-10,n.y+10),generateRandomInt(50,200))}a.maxAlpha=.1;circles.push(a)};mainCanvas.addEventListener("mousemove",throttle(createCircle,1),false);function draw(){mainContext.clearRect(0,0,canvasWidth,canvasHeight);mainContext.fillStyle="#111";mainContext.fillRect(0,0,canvasWidth,canvasHeight);circles.forEach(function(e,t){if(e!==null&&e.isActive){e.draw(mainContext)}else{circlesForCleanup.push(t)}});var e=circlesForCleanup.pop();while(e!==undefined){circles.splice(e,1);e=circlesForCleanup.pop()}console.log(circles.length);requestAnimationFrame(draw)}draw();
